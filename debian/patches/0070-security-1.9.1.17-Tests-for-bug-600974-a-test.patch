From: Simon Montagu <smontagu@smontagu.org>
Date: Wed, 20 Oct 2010 09:11:15 -0700
Subject: security-1.9.1.17: Tests for bug 600974, a=test

---
 mozilla/intl/uconv/tests/unit/test_bug317216.js |   79 +++++++++++++-------
 mozilla/layout/reftests/bugs/600974-1-ref.html  |    2 +-
 mozilla/layout/reftests/bugs/600974-1.html      |    2 +-
 mozilla/layout/reftests/bugs/600974-2.html      |   94 +++++++++++++++++++++++
 mozilla/layout/reftests/bugs/600974-3.html      |  Bin 0 -> 11314 bytes
 mozilla/layout/reftests/bugs/reftest.list       |    2 +
 6 files changed, 150 insertions(+), 29 deletions(-)
 create mode 100644 mozilla/layout/reftests/bugs/600974-2.html
 create mode 100644 mozilla/layout/reftests/bugs/600974-3.html

diff --git a/mozilla/intl/uconv/tests/unit/test_bug317216.js b/mozilla/intl/uconv/tests/unit/test_bug317216.js
index bf57419..746c63e 100644
--- a/mozilla/intl/uconv/tests/unit/test_bug317216.js
+++ b/mozilla/intl/uconv/tests/unit/test_bug317216.js
@@ -11,53 +11,53 @@
 
 const test = [
 // 0: Valid surrogate pair
-              ["%00%2D%00%2D%D8%35%DC%20%00%2D%00%2D",
+              ["%D8%35%DC%20%00%2D%00%2D",
 //    expected: surrogate pair
-               "--\uD835\uDC20--"],
+               "\uD835\uDC20--"],
 // 1: Lone high surrogate
-              ["%00%2D%00%2D%D8%35%00%2D%00%2D",
+              ["%D8%35%00%2D%00%2D",
 //    expected: one replacement char
-               "--\uFFFD--"],
+               "\uFFFD--"],
 // 2: Lone low surrogate
-              ["%00%2D%00%2D%DC%20%00%2D%00%2D",
+              ["%DC%20%00%2D%00%2D",
 //    expected: one replacement char
-               "--\uFFFD--"],
+               "\uFFFD--"],
 // 3: Two high surrogates
-              ["%00%2D%00%2D%D8%35%D8%35%00%2D%00%2D",
+              ["%D8%35%D8%35%00%2D%00%2D",
 //    expected: two replacement chars
-               "--\uFFFD\uFFFD--"],
+               "\uFFFD\uFFFD--"],
 // 4: Two low surrogates
-              ["%00%2D%00%2D%DC%20%DC%20%00%2D%00%2D",
+              ["%DC%20%DC%20%00%2D%00%2D",
 //    expected: two replacement chars
-              "--\uFFFD\uFFFD--"],
+	       "\uFFFD\uFFFD--"],
 // 5: Low surrogate followed by high surrogate
-              ["%00%2D%00%2D%DC%20%D8%35%00%2D%00%2D",
+              ["%DC%20%D8%35%00%2D%00%2D",
 //    expected: two replacement chars
-               "--\uFFFD\uFFFD--"],
+               "\uFFFD\uFFFD--"],
 // 6: Lone high surrogate followed by valid surrogate pair
-              ["%00%2D%00%2D%D8%35%D8%35%DC%20%00%2D%00%2D",
+              ["%D8%35%D8%35%DC%20%00%2D%00%2D",
 //    expected: replacement char followed by surrogate pair
-               "--\uFFFD\uD835\uDC20--"],
+               "\uFFFD\uD835\uDC20--"],
 // 7: Lone low surrogate followed by valid surrogate pair
-              ["%00%2D%00%2D%DC%20%D8%35%DC%20%00%2D%00%2D",
+              ["%DC%20%D8%35%DC%20%00%2D%00%2D",
 //    expected: replacement char followed by surrogate pair
-               "--\uFFFD\uD835\uDC20--"],
+               "\uFFFD\uD835\uDC20--"],
 // 8: Valid surrogate pair followed by lone high surrogate
-              ["%00%2D%00%2D%D8%35%DC%20%D8%35%00%2D%00%2D",
+              ["%D8%35%DC%20%D8%35%00%2D%00%2D",
 //    expected: surrogate pair followed by replacement char
-               "--\uD835\uDC20\uFFFD--"],
+               "\uD835\uDC20\uFFFD--"],
 // 9: Valid surrogate pair followed by lone low surrogate
-              ["%00%2D%00%2D%D8%35%DC%20%DC%20%00%2D%00%2D",
+              ["%D8%35%DC%20%DC%20%00%2D%00%2D",
 //    expected: surrogate pair followed by replacement char
-               "--\uD835\uDC20\uFFFD--"],
+               "\uD835\uDC20\uFFFD--"],
 // 10: Lone high surrogate at the end of the input
-              ["%00%2D%00%2D%00%2D%00%2D%D8%35%",
+              ["%D8%35%",
 //    expected: nothing
-               "----"],
+               ""],
 // 11: Half code unit at the end of the input
-              ["%00%2D%00%2D%00%2D%00%2D%D8",
+              ["%D8",
 //    expected: nothing
-              "----"]];
+              ""]];
 
 const IOService = Components.Constructor("@mozilla.org/network/io-service;1",
                                          "nsIIOService");
@@ -95,15 +95,40 @@ function testCase(testText, expectedText, bufferLength, charset)
   do_check_eq(escape(outStr), escape(expectedText));
 }
 
+// Add 32 dummy characters to the test text to work around the minimum buffer
+// size of an ns*Buffer
+const MINIMUM_BUFFER_SIZE=32;
+function padBytes(str)
+{
+  var padding = "";
+  for (var i = 0; i < MINIMUM_BUFFER_SIZE; ++i) {
+    padding += "%00%2D";
+  }
+  return padding + str;
+}
+
+function padUnichars(str)
+{
+  var padding = "";
+  for (var i = 0; i < MINIMUM_BUFFER_SIZE; ++i) {
+    padding += "-";
+  }
+  return padding + str;
+}
+
 // Byte-swap %-encoded utf-16
 function flip(str) { return str.replace(/(%..)(%..)/g, "$2$1"); }
 
 function run_test()
 {
   for (var i = 0; i < 12; ++i) {
-    for (var bufferLength = 4; bufferLength < 8; ++ bufferLength) {
-      testCase(test[i][0], test[i][1], bufferLength, "UTF-16BE");
-      testCase(flip(test[i][0]), test[i][1], bufferLength, "UTF-16LE");
+    for (var bufferLength = MINIMUM_BUFFER_SIZE;
+	 bufferLength < MINIMUM_BUFFER_SIZE + 4;
+	 ++ bufferLength) {
+      var testText = padBytes(test[i][0]);
+      var expectedText = padUnichars(test[i][1]);
+      testCase(testText, expectedText, bufferLength, "UTF-16BE");
+      testCase(flip(testText), expectedText, bufferLength, "UTF-16LE");
     }
   }
 }
diff --git a/mozilla/layout/reftests/bugs/600974-1-ref.html b/mozilla/layout/reftests/bugs/600974-1-ref.html
index 9bf883b..71b6ce9 100644
--- a/mozilla/layout/reftests/bugs/600974-1-ref.html
+++ b/mozilla/layout/reftests/bugs/600974-1-ref.html
@@ -1,5 +1,5 @@
 <!DOCTYPE HTML>
-<html>
+<html lang="en" style="font-family: serif; font-size: 16px">
 <head>
   <meta http-equiv="Content-Type"
  content="text/html; charset=ISO-8859-1">
diff --git a/mozilla/layout/reftests/bugs/600974-1.html b/mozilla/layout/reftests/bugs/600974-1.html
index 13de69f..9cbfee1 100644
--- a/mozilla/layout/reftests/bugs/600974-1.html
+++ b/mozilla/layout/reftests/bugs/600974-1.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <!-- This is a test for decoding supplementary characters. It contains text in
      Unicode plane 1 encoded as UTF-8. Don't reencode it in any way. -->
-<html>
+<html lang="en" style="font-family: serif; font-size: 16px">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 </head>
diff --git a/mozilla/layout/reftests/bugs/600974-2.html b/mozilla/layout/reftests/bugs/600974-2.html
new file mode 100644
index 0000000..5c14bde
--- /dev/null
+++ b/mozilla/layout/reftests/bugs/600974-2.html
@@ -0,0 +1,94 @@
+<!DOCTYPE HTML>
+<!-- This is a test for decoding supplementary characters. It contains text in
+     Unicode plane 1 encoded as GB18030. Don't reencode it in any way. -->
+<html lang="en" style="font-family: serif; font-size: 16px">
+<head>
+  <meta http-equiv="Content-Type" content="text/html; charset=gb18030">
+  <title></title>
+</head>
+<body>
+<p>3736393634 3037303234 3536333639 303031 32343631,
+3436353036343136313239 32353037303034303538 36333031. 36333038323234
+333633 32393432 35303339, 333633 353034313234 313639313639. 38393230
+30323432333030 36333031 36383631 35323534 303633333034303132353035 3631
+34363434363536 3336333031 32333038323234. 32323030383236 333633
+3330333635353234 343232393030. 393233333234 353634 3736333030 35303234,
+333633 333233373231323136 3732393230. 38393230 3739323936313932,
+3336333031 3330313236 3732333330353239 343239303230, 35303033
+3732393230 373639313130313639 38323234, 353635 32353037303034303538
+36393630 343232393030 3632 3736333030. 393233333234 333234313230
+35303030 303031 32343631 35303033 30363532333630 3035313639353234.
+313633333635313630383236 333233373231323136 32333038323234 333636, 3035
+39393635343230 303634 34363434363536 3035. 343635 33323639363631
+3035313639353234 3436353530343635313234. 393233333234 363935323936
+33363031303332333234 3736393132. 363635363235 3035 3536333639
+3536333639, 353634 3633363037363535 3536383236. 3936353634
+313035343035323531 34363434363536 35303033, 353635
+3034363336393030383236 3536333639 3234343234303235 3035.
+3139323630363531 3330333635353234 33303336393932 3032303430373031.
+39323534 3436353530343635313234, 32353136 3330313236
+3436353530343635313234 39393635343230, 35323534 35303339
+3732333330353239 313239373030, 3035 3336333639313030 3332343230 333636
+3231 3930303230. 343635 3035 36353034 313639313639, 3330313236
+3234343234303235 3930303230. 36333038323234 3430 36393231,
+34363434363536 353634 3336333639313030 353635, 353038353030303034
+36383631 36393630. 3132303436 3332343230 3432303032,
+3436353036343136313239 3330313236 3739323936313932 303635,
+33303336393932 3035 38323234.
+383239323330313239 353634 32393432 38323234, 303031 32343631
+313035343035323531 3332343230. 343635 3436333630313036
+353038353030303034 35303033, 3231 373639343635313234 343232393030
+36383630313230 353634. 343635 3430 38323234, 323331393034303630 3231
+313035343035323531 333633, 3330333635353234 3234 3432303032.
+37363031303332333234 333633 3930303230 3736393132 343232393030
+313634373639 33333235353031 3632 333633 35303234. 32323030383236
+36393630 333033363936, 313634373639 3231 36383630313230 353634,
+32333038323631 36383631 36333031. 3936353634 33333235353031 36353036
+3231 35303339 333239303230 313930303130383236. 343635 39393635343230
+3736393132 36393430, 3733323436393231 3436353530343635313234 36393430
+303437363935303631 3330313236. 3031303234 3632 3739323936313932
+36393630. 3435 333635363532313030 373633333635313630383236 333033363936
+303635 36383630313230. 39323030 313035343035323531 3436333630313036
+3930303230 3035 393231393234. 3932333332 3732343033303030. 39323030
+333633 3732393230 3234 333033363936 393231393234 3233313930343630
+303635 333633 3232383236. 3936353634 36383631 35303234 3631
+333033363936 373633333635313630383236 333635363532313030 353635 3631
+3732393230. 3631 3632 333634313230 3732393230, 36383631 38393233303532
+36393231. 343635 353634 3736333030 333038323332, 36383631 333234313230
+36393231. 383232393030 303237303635 363031, 343231313030 3231
+3732323430333230 3631, 3732323430333230 353634 35323534. 39323534
+313634373230 30323432333030 32393532 3330313236 353038353030303034.
+3435 35323534 35303030, 3233333234343639373639 333633 3739323936313932
+3336333231373231, 303437363935303631 32 35303234.
+313633333635313630383236 333633 333038323332 36383631 333636
+323234313639 39393635343230 343635333233333030 32 313639313639.
+3031303234 3231 333634313230 3330313236 32353136 313634373230
+323331393034303630 3231 3330313236 36333031. 393234 3035 313239373030
+3037303234, 3231 343231313030 313639313639. 3932333332 3631
+373633333635313630383236 3536383236. 3936353634 33323430353032,
+313239373030 3231 353034313234 30363532333630, 353230 35303030
+373234303330303030 3930303230, 303635 33333235353031 3430 36333031 3231
+35303339. 36333038323234 36393231 3336333231373231.
+313633333635313630383236 353634 36333031 3035 3132303136
+3035313639353234 363935323936 32 3035 35303234. 3836393330 3231
+373930353830333332 333634313230. 3936353634 343635333233333030
+3633363037363535 3736333030, 3035 3032383031313030 32393532
+343231313030 353634. 3631 343635303638323231 313239373030 333633
+38323234 313634373639 36383631 3233313930343630 3536383236
+3436333630313036. 3432303736353530303036 313633333230 35303030,
+393635353936393031 3330313236 37363032363936 36383631, 3733323436393231
+303635 3436313230. 34353136383639 3733323436393231 303437363935303631
+3733323436393231. 3836393330 313634373230 35323534 35323534.
+34353136383639 38323030 36393430 3736333030. 39323534 303634373639,
+32393432 353635 343635303638323231 353038353030303034, 3336393634
+32393532 3739323936313932 3430, 353634 3234343234303235 36353034 3430
+32 3732393230. 383239323330313239 3631 36333031 3035 303634
+30363532333630 3035313639353234. 313633333635313630383236
+3032383031313030 393231393234 333634313230 34363434363536
+3436353530343635313234. 3031303234 373930353830333332, 38323234 353634
+3233333234343639373639 303633333034303132353035, 313239373030 35303030
+32333038323631 3930303230, 303031 32343631 363336343635313234
+3536333639 3336393634 3330313236 333038323332. 3139323630363531
+3739323936313932 32333038323631 3336333031 303635 3733323436393231. </p>
+</body>
+</html>
diff --git a/mozilla/layout/reftests/bugs/600974-3.html b/mozilla/layout/reftests/bugs/600974-3.html
new file mode 100644
index 0000000000000000000000000000000000000000..136cee96bafd67c369f2f83530db2209844fda14
GIT binary patch
literal 11314
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%0AB#_y-t*>*W&KC%4!ygZ6F+Rc<P@hdzM&BT&di4K
zSv7+j*5`ysrdgzSzj??GktedvL-n{a&dYu~wfDGjd93&8%5M;L-r1=JsrrX2du)C;
zXa8*H(B=0E`JAvkiHXI|=!&4xuk#q>HPKGqU>|NWPd^cVP-Ai;(2PZzj9_Sg@9d*U
zKK47{;`(QQd&`I_yP-MjY>DCY%Y)tU3neU~3Hr`!+n9(&kz5?cRfT6YfBN1ZZutot
z!3XP99j`pGNPcR}=)hcK2#5Qs<~wymLbR;$qsP!z-50%G!f^P{8Fsg{A(?xCy*U|p
z;x$!iW&0a0RVC9T@^=BOjQ5LA5mry}3mqhh6Uxbm=(hX7S8`{3;IGE#E6*yatsb`*
z3=~<P6T5xZY<RUQ>ioIGX+|K2dVjMX*T66f9iR3Trg(!b_mO#a=J#iO)B3clFXw2`
z(eIq3KkS6evKH&?@HX$L%YQ}4-u7or@iXyFq$)B9*?O>^(>H1y`Eb6~7XPYgs}uVI
zCv@6!_1k$hyY7RUqe(_H=36$5FV6a8HM&@t7>tI8zt*T(vQ}-*8SBR$U`}=>m#JV<
zq9L*F>CQr1=+ToWsA_q?S}b61xE@x{>RYB+3=SuyaTu6=5iX7^Ex#pBzXM6~3-#%9
zkoWMV=M@@bTEkjqARv(%Gad;!5l@igRvYQ;7%?`3UEdd<8Dt>HYhZi-9Y>T3Kd!sU
zH_x)npX%CBV4>q}1jm|_XPVY?9(UF{uVzK3-*yH@=p=jak(kptam3I3=3$%N<Wn5s
zD(`yl%+#p}*z9~%-_cax@i(@hW>IU+UZE3tFB187Zywu&-FIS`=rBc-ZJC{FhXr=N
zd5PYv`r0^}_azOO*a$m3`JPigd7MhZ4m<o#9CL!dSKp#ZtnoANrpvvkKd~gML7lzY
z{+gT1?F^Fl%Tm`x_1kU^uK3vJz!&s$LK$r{bLw3lUn;0`*_jOjoX&Z2ewPm3yE|{V
z2;;%pe5}<WFY?3g{L+G!w|OO)@2~1(C+H@pJcL<UqMsV1(V1A^rYa+mKrw%_fEyTS
z&e<m~7r%sg6ieRR^jI6VQ+XZHDhY@A?Ke?S&N(pF&PX-e{0Egj=kCp;dG@*<s!#P!
zbxwUjX(VPGY<JV32%E!!FU(+)Wm>f7WT6jnst#KuVauP7{D1eTSi_2}HNxt7Fdo1B
z@L@LNVJ!Htoajd<6@ybPQO(_(RneqsNQpHO9!GWhP5$&7bWWq=N*&yM@byvef1X65
zVI7hn6t6lUJ$X%zqJbyU;f}S$^!Zxx;U?BLZXxL}eWOX<%?3H|Q#mX|o~PW(P?;a8
zM6u}^C0nPNRts>;6v^J9y$=pwHOtO$c>1m&3x{e7ul~NmK2V$RL&pxx`p)>_B))vd
nU(OCpiF9Kle&()u>S^Eq^0NMQW&eBM=b!jjm)pPeto8o_;i>Ov

literal 0
HcmV?d00001

diff --git a/mozilla/layout/reftests/bugs/reftest.list b/mozilla/layout/reftests/bugs/reftest.list
index 87a8b4e..427a2d4 100644
--- a/mozilla/layout/reftests/bugs/reftest.list
+++ b/mozilla/layout/reftests/bugs/reftest.list
@@ -1054,4 +1054,6 @@ fails == 494667-2.html 494667-2-ref.html # needs bug 155955 (not on 1.9.1 branch
 != 513318-2.xul 513318-2-ref.xul
 != 513318-3.xul 513318-3-ref.xul
 == 600974-1.html 600974-1-ref.html
+== 600974-2.html 600974-1-ref.html
+== 600974-3.html 600974-1-ref.html
 == 603423-1.html 603423-1-ref.html
-- 
